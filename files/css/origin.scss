@use "_base.scss" as *;

/******************* attributes *******************/

.bordered {
    border: 2px solid var(--bg-lite);
    box-sizing: border-box;
}

.with-bottom-separator {
    border-bottom: 1px solid var(--fg-lite);
}

.marginned {
    margin: 1em 2em;
}

.padded {
    padding: 1em 2em;

    &.small {
        padding: 0.5em 1em;
    }
}

.rounded {
    border-radius: 0.75em;
}

.shaded {
    box-shadow: 0 0.5em 0.75em var(--shadow);
}

.backdropped {
    background: var(--bg);
}

/******************* theme *******************/

/** common **/

aside,
header,
footer,
main,
.card {
    @extend .bordered, .padded, .rounded, .shaded, .backdropped;
}

/** specific **/

#app-badge {
    @extend .flex, .right, .middle;

    flex-direction: row-reverse;

    & > [role="details"] {
        @extend .flex, .down, .no-gap;

        & > * {
            margin: 0;
        }
        & > [role="app-name"] {
            font-size: 1.2em;
        }
    }
}

body {
    @extend .full-width;

    background: radial-gradient(circle at center 200%, var(--primary) 30%, var(--bg));
}

.button {
    @extend .padded, .small, .rounded, .interactive;
    @extend .accent, .bordered, .secondary;

    background: var(--bg);

    & a {
        text-decoration: none;
    }

    &:hover {
        @extend .background;
    }
}

.card {
    @extend .flex, .down;
    @extend .padded, .rounded, .backdropped;

    & .title-wrapper {
        @extend .flex, .right, .middle, .spread;
        @extend .with-bottom-separator;

        flex-wrap: nowrap;
    }

    & > .contents {
        @extend .flex, .down;
    }
}

footer,
header {
    @extend .flex, .right;

    align-items: center;

    & > * {
        flex-grow: 1;
    }

    & > [role="top-part"] {
        text-align: left;
    }
    & > [role="middle-part"] {
        text-align: center;
    }
    & > [role="bottom-part"] {
        text-align: right;
    }
}

footer {
    & [role="details"] a {
        text-decoration: none;
    }
}

form {
    @extend .flex, .down;

    &.tight {
        max-width: 25em;
        margin-inline: auto;
    }

    & .actions {
        @extend .flex, .right, .center, .middle;
    }
}

header {
    & > [role="top-part"] {
        @extend .flex, .right, .middle;
    }
}

.input-container {
    @extend .grid, .middle;
    @extend .padded, .rounded, .animatable, .bordered;

    grid-template-columns: auto auto 1fr;
    flex-grow: 1;
    margin: 0;

    &:has(:focus) {
        border-color: var(--primary);
    }

    & input, & textarea, & select {
        color: var(--fg);
    }

    & textarea {
        font-family: monospace;
        min-height: 3.5em;
    }

    & select {
        & option {
            font-family: inherit;
            background-color: var(--bg);
        }
    }

    & input[type="checkbox"],
    & input[type="radio"] {
        accent-color: var(--primary);
        height: 1em;
        width: 1em;
    }

    & > label,
    & > i {
        @extend .ghost;
    }

    & > i {
        font-size: 1.25em;
    }
}

[role="list"] {
    @extend .flex, .down;
}

main {

}

#main-wrapper {
    @extend .contents, .marginned, .padded;
    @extend .flex, .down;
}

#middle-wrapper {
    @extend .flex, .right, .spread;
}

[role="actions"] {
    @extend .flex, .right, .middle, .spread;
}

#page-title {
    @extend .flex, .down, .no-gap;

    align-items: baseline;

    & > * {
        margin: 0;

        &[role="title"] {
            font-size: 1.5em;
        }
        &[role="subtitle"] {
            @extend .ghost;
            font-size: 1em;
        }
    }

}

#toast {
    @extend .padded, .rounded, .bordered, .backdropped, .animatable;
    @extend .flex, .right, .middle;

    position: fixed;
    top: 1em;
    left: 50%;
    transform: translate(-50%, -5em);
    z-index: 99;

    &.visible {
        transform: translate(-50%, 0);
    }

    & .content {
        font-weight: bold;
    }
}
